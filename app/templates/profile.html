{% extends "base.html" %}

{% block content %}

<br><br>

{% if current_user.is_seller == 'Y' %}
<h2>Welcome to your profile, {{ current_user.firstname}}</h2>
<br>
<div class="card">
  <div class="card-header">
    Seller Profile Information
  </div>
<div class="card-body">
<p class="card-text">
<strong>User ID: </strong>{{ current_user.id }}<br/>
<strong>Email: </strong>{{ current_user.email }}<br/>
<strong>Name: </strong>{{ current_user.firstname }} {{ current_user.lastname }}<br/>

<strong>Address: </strong>{{ current_user.address }}<br/>
<strong>Balance: </strong>${{ current_user.balance }} <a <a class="btn btn-outline-warning" href="{{ url_for('users.editbalance', id=current_user.id) }}" role="button">Edit Balance</a> <br/> 
<strong>Are you a seller? </strong>{{ current_user.is_seller }}<br/></p>
    <a <a class="btn btn-warning" href="{{ url_for('users.editprofile', id=current_user.id) }}" role="button">Edit Profile</a>
    <a <a class="btn btn-outline-info" href="{{ url_for('seller_inventory.inventory') }}" role="button">View Seller Inventory</a>
     <a <a class="btn btn-outline-info" href="{{ url_for('this_sellers_reviews.sellers_reviews', sid=current_user.id) }}" role="button">View Reviews About You</a>
     <a <a class="btn btn-outline-info" href="{{ url_for('users_review_page.myreviews') }}" role="button">View Authored Reviews</a>
      <a <a class="btn btn-info" href="{{ url_for('carts.carts') }}" role="button">My Cart</a>
  <!-- reviews about you button will need to be modified for public view -->
  
  </div>
</div>

<br><br>
<h2>Your recent purchases:</h2>
<table class='table table-hover table-bordered container'>
  <thead class="thead-dark">
    <tr>
      <th scope="col">Product ID</th>
      <th scope="col">Product Name</th>
      <th scope="col">Date Purchased</th>
      <th scope="col">Product Category</th>
      <th scope="col">Product Seller</th>
      <th scope="col">Order Quantity</th>
      <th scope="col">Price per Item</th>
    </tr>
  </thead>
  <tbody>
    {% for purchase in ordered%}
      <tr>
        <th scope="row">{{purchase.prod_id}}</th>
        <td>{{purchase.product_name}}</td>
        <td>{{purchase.add_date}}</td>
        <td>{{purchase.cat_name}}</td>
        <td>{{purchase.seller_id}}</td>
        <td>{{purchase.order_quantity}}</td>
        <td>${{purchase.price}}</td>
      </tr>
    {% endfor %}
  </tbody>
</table>


{% endif %}

{% if current_user.is_seller == 'N' %}
<h2>Welcome to your profile, {{ current_user.firstname}}</h2>
<br>
<div class="card">
  <div class="card-header">
    Shopper Profile Information
  </div>
<div class="card-body">
<p class="card-text">
<strong>User ID: </strong>{{ current_user.id }}<br/>
<strong>Email: </strong>{{ current_user.email }}<br/>
<strong>First Name: </strong>{{ current_user.firstname }}<br/>
<strong>Last Name: </strong>{{ current_user.lastname }}<br/>
<strong>Address: </strong>{{ current_user.address }}<br/>
<strong>Balance: </strong>${{ current_user.balance }}<br/>
<strong>Are you a seller? </strong>{{ current_user.is_seller }}<br/></p>
    <a <a class="btn btn-warning" href="{{ url_for('users.editprofile', id=current_user.id) }}" role="button">Edit Profile</a>
    <a <a class="btn btn-outline-info" href="{{ url_for('users_review_page.myreviews') }}" role="button">View Authored Reviews</a>
    <a <a class="btn btn-info" href="{{ url_for('carts.carts') }}" role="button">My Cart</a>
  </div>
</div>

<br><br>
<h2>Your recent purchases:</h2>
<table class='table table-hover table-bordered container'>
  <thead class="thead-dark">
    <tr>
      <th scope="col">Product ID</th>
      <th scope="col">Product Name</th>
      <th scope="col">Date Purchased</th>
      <th scope="col">Product Category</th>
      <th scope="col">Product Seller</th>
      <th scope="col">Order Quantity</th>
      <th scope="col">Price per Item</th>
    </tr>
  </thead>
  <tbody>
    {% for purchase in ordered%}
      <tr>
        <th scope="row">{{purchase.prod_id}}</th>
        <td>{{purchase.product_name}}</td>
        <td>{{purchase.add_date}}</td>
        <td>{{purchase.cat_name}}</td>
        <td>{{purchase.seller_id}}</td>
        <td>{{purchase.order_quantity}}</td>
        <td>${{purchase.price}}</td>
      </tr>
    {% endfor %}
  </tbody>
</table>



{% endif %}

{% endblock %}
